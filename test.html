<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JH's Music List~</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/dataTables.bootstrap4.min.css">
</head>
<body style="padding: 15px;">

    <div class="wrapper" id="tables" style="width: 500px;">
        <table id="table1" class="table table-striped table-bordered" style="width: 100%;" >
            <thead>
                <th>id</th>
                <th>listenyear</th>
                <th>releasedyear</th>
                <th>artist</th>
                <th>title</th>
                <th>genre</th>
                <th>sharetoothers</th>
            </thead>
        </table>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function(){
        var reco_lang_kor = {
                "decimal" : "",
                "select": {
                    "rows": {
                        _: "%d 명 선택",
                        0: "",
                        1: "1명 선택"
                    }
                },
                "emptyTable" : "데이터가 없습니다.",
                "info" : "총 _TOTAL_ 명",
                "infoEmpty" : "0명",
                "infoFiltered" : "",
                "infoPostFix" : "",
                "thousands" : ",",
                "lengthMenu" : "_MENU_ 개씩 보기",
                "loadingRecords" : "<button class='btn btn-primary' type='button' disabled><span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true' style='margin-bottom:2px; margin-right:2px;'></span>Loading...</button>",
                "processing" : "<button class='btn btn-primary' type='button' disabled><span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>Loading...</button>",
                "search" : "검색 : ",
                "zeroRecords" : "검색된 데이터가 없습니다.",
                "paginate" : {
                    "first" : "첫 페이지",
                    "last" : "마지막 페이지",
                    "next" : "다음",
                    "previous" : "이전"
                },
                "aria" : {
                    "sortAscending" : " :  오름차순 정렬",
                    "sortDescending" : " :  내림차순 정렬"
                },
                "buttons": {
                    "selectAll": "전체 선택",
                    "selectNone": "전체 해제"
                }
     };
      var myTable =  $("#table1").DataTable({

            select:true,
            scrollX : "300px",
            scrollY : "450px",
            pagingType: "simple",
            language : reco_lang_kor,
            // dom: '<"float-right"B><"float-right"i>rt<"float-left"pf>', 
              buttons: [
                {extend : 'selectAll', className:'select-btn btn btn-primary'},{extend : 'selectNone', className:' select-btn btn btn-primary'},
            {
            extend : 'csv',
            extension : '.csv',
            fieldSeparator : ',',
            bom : true,
            charset: 'UTF-8',
            text: '전체 CSV',
            // footer: true,
            className: 'csv-btn'  },
              
              {
            extend : 'csv',
            exportOptions: {
                    columns: [3]
                },
            extension : '.csv',
            fieldSeparator : ',',
            bom : true,
            charset: 'UTF-8',
            
            text: '유저 CSV',
            // footer: true,
            className: 'csv-btn2'  }],

            pageLength : 50,
            processing: true,
            "ajax" : {
                "url" : "https://jhhouse.herokuapp.com/postgres",
                "type" : "GET",
                "dataSrc" : "",
            
            },
            "columns": [
            { data: "id" },
            { data: "listenyear" },
            { data: "releasedyear" },
            { data: "artist" },
            { data: "title" },
            { data: "genre" },
            { data: "sharetoohters" }
        ]
        });
       
    });
</script>

</body>
</html>
